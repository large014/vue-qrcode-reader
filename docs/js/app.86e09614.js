(function(t){function e(e){for(var a,s,c=e[0],o=e[1],u=e[2],m=0,l=[];m<c.length;m++)s=c[m],r[s]&&l.push(r[s][0]),r[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("QRcode",{ref:"qrcode",on:{"scan-complete":function(e){return t.scanComplete(e)},"scan-active":t.scanActive,"scan-inactive":t.scanInactive}}),n("div",{staticClass:"ui"},[n("button",{staticClass:"startBtn",class:{on:!t.isQrsetting},on:{click:t.cameraStart}},[t._v("スタート")]),n("button",{class:{on:t.isQrsetting},on:{click:t.cameraSwtich}},[t._v("カメラスイッチ")]),n("button",{class:{on:t.isQrsetting},on:{click:t.cameraOFF}},[t._v("カメラOFF")]),n("button",{class:{on:t.isQrsetting},on:{click:t.cameraON}},[t._v("カメラON")]),n("button",{class:{on:t.isQrsetting},on:{click:t.scanRset}},[t._v("リセット")])]),n("p",{class:{on:t.isScan}},[t._v(t._s(t.scanData))])],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"qrwrappear"},[n("video",{ref:"preview",staticClass:"active",attrs:{id:"preview",playsinline:"",muted:"",autoplay:""},domProps:{muted:!0}})])},c=[],o=(n("7f7f"),n("96cf"),n("3b8d")),u=n("427d"),d=n.n(u);d.a.Camera.prototype.start=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("camera : start = "+this.id+", name = "+this.name),n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n?("前面側カメラ"==this.name?(this.cameraType="user",console.log("前面")):this.cameraType="environment",e={audio:!1,video:{facingMode:this.cameraType,mandatory:{sourceId:this.id,minWidth:600,maxWidth:800,minAspectRatio:1.6},optional:[]}}):e={audio:!1,video:{mandatory:{sourceId:this.id,minWidth:600,maxWidth:800,minAspectRatio:1.6},optional:[]}},t.next=5,d.a.Camera._wrapErrors(Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})));case 5:return this._stream=t.sent,t.abrupt("return",this._stream);case 7:case"end":return t.stop()}},t,this)})),d.a.Scanner.prototype._enableScan=function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this._camera=e||this._camera,this._camera){t.next=3;break}throw new Error("Camera is not defined.");case 3:return console.log("scanner.js : camera.start"),t.next=6,this._camera.start();case 6:n=t.sent,this.video.srcObject=n,this._continuous&&this._scanner.start();case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();var m={name:"QRcode",props:{msg:String},data:function(){return{scanner:null,activeCameraId:null,scanData:String,cameraIndex:0,cameras:[],scans:[],cameraID:[]}},mounted:function(){},destroyed:function(){this.scanner.removeEventListener("scan",this.scanComplete),this.scanner.removeEventListener("active",this.scanActive),this.scanner.removeEventListener("inactive",this.scanInactive)},methods:{start:function(){var t=this;this.scanner=new d.a.Scanner({video:document.getElementById("preview"),mirror:!1}),this.scanner.addListener("scan",this.scanComplete),this.scanner.addListener("active",this.scanActive),this.scanner.addListener("inactive",this.scanInactive),d.a.Camera.getCameras().then(function(e){t.cameras=e;for(var n=0;n<e.length;n++)console.log("cameras.id = "+e[n].id+", name = "+e[n].name);e.length>0?(t.activeCameraId=e[0].id,console.log("QRcode : start call"),t.scanner.start(e[0])):console.error("No cameras found.")}).catch(function(t){console.error(t)})},scanComplete:function(t){this.$emit("scan-complete",t)},scanActive:function(){this.$emit("scan-active")},scanInactive:function(){this.$emit("scan-inactive")},switchCamera:function(){this.cameras.length<=1||(this.cameraIndex=0==this.cameraIndex?this.cameraIndex=1:this.cameraIndex=0,this.activeCameraId=this.cameras[this.cameraIndex].id,this.scanner.start(this.cameras[this.cameraIndex]))},scanOFF:function(){this.scanner.stop()},scanON:function(){this.scanner.start(this.cameras[this.cameraIndex])}}},l=m,h=(n("80a7"),n("2877")),f=Object(h["a"])(l,s,c,!1,null,"0a430d64",null),p=f.exports,v={name:"app",components:{QRcode:p},data:function(){return{scanData:String,isScan:!1,isQrsetting:!1}},mounted:function(){},methods:{cameraStart:function(){this.isQrsetting=!0,this.$refs.qrcode.start()},cameraSwtich:function(){this.isScan=!1,this.$refs.qrcode.switchCamera()},cameraOFF:function(){this.isScan=!1,this.$refs.qrcode.scanOFF()},cameraON:function(){this.$refs.qrcode.scanON()},scanRset:function(){this.isScan=!1},scanComplete:function(t){console.log("スキャン内容 : "+t),this.scanData=t,this.isScan=!0},scanActive:function(){},scanInactive:function(){}}},g=v,b=(n("7c19"),Object(h["a"])(g,r,i,!1,null,"4286c7a6",null)),w=b.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(w)}}).$mount("#app")},"7c19":function(t,e,n){"use strict";var a=n("dd09"),r=n.n(a);r.a},"80a7":function(t,e,n){"use strict";var a=n("bb38"),r=n.n(a);r.a},bb38:function(t,e,n){},dd09:function(t,e,n){}});
//# sourceMappingURL=app.86e09614.js.map